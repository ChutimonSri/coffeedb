{% extends 'base.html' %}
{% block content %}

<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='add_menu.css') }}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<body>
   <div class="bg-img">
      <div class="content">
         <header>Add new menu</header>
         <form method="POST">

            <div class="field">
               <span class="fa fa-coffee"></span>
               <input type="text" id="product_name" name="product_name" placeholder="Product Name">
            </div>

              

            <div class="input-group">
                <span class="counter-label">Quantity</span>
                <input type="button" value="-" class="button-minus" data-field="quantity">
                <input type="number" step="1" max="999" value="1" name="quantity" class="quantity-field">
                <input type="button" value="+" class="button-plus" data-field="quantity">
            </div>
              

            <div class="input-group">
                <span class="counter-label">Unit Price</span>
                <input type="button" value="-" class="button-minus" data-field="unit_price">
                <input type="number" step="1" max="999" value="1" name="unit_price" class="quantity-field">
                <input type="button" value="+" class="button-plus" data-field="unit_price">
            </div>

            <div class="field space">
               <input type="submit" value="Confirm">
            </div>
         </form>
         
      </div>
   </div>

</body>


<script>
    function incrementValue(e) {
        e.preventDefault();
        var fieldName = $(e.target).data('field');
        var parent = $(e.target).closest('div');
        var currentVal = parseInt(parent.find('input[name=' + fieldName + ']').val(), 10);

        if (!isNaN(currentVal)) {
            parent.find('input[name=' + fieldName + ']').val(currentVal + 1);
        } else {
            parent.find('input[name=' + fieldName + ']').val(0);
        }
    }

    function decrementValue(e) {
        e.preventDefault();
        var fieldName = $(e.target).data('field');
        var parent = $(e.target).closest('div');
        var currentVal = parseInt(parent.find('input[name=' + fieldName + ']').val(), 10);

        if (!isNaN(currentVal) && currentVal > 0) {
            parent.find('input[name=' + fieldName + ']').val(currentVal - 1);
        } else {
            parent.find('input[name=' + fieldName + ']').val(0);
        }
    }

    $('.input-group').on('click', '.button-plus', function(e) {
        incrementValue(e);
    });

    $('.input-group').on('click', '.button-minus', function(e) {
    decrementValue(e);
    });
</script>


{% endblock %}
